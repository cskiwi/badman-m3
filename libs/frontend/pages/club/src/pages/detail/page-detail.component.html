@if (!loading()) {
  @if (this.club(); as club) {
    <app-page-header>
      <!-- <ng-content avatar>{{ this.initials() }}</ng-content> -->
      <ng-content title>{{ club.fullName }}</ng-content>
      <ng-content subTitle>
        <div class="info">
          <div class="sub-text">
            <ng-container
              ><a [routerLink]="['/', 'club', club.slug]">{{ club.name }}</a></ng-container
            >
            @if (club.name && club.clubId) {
              -
            }
            {{ club.clubId }}
          </div>
          <!-- <div class="click-for-breakdown">
          {{ 'all.ranking.breakdown.hint' | translate }}
        </div> -->
        </div>
      </ng-content>
      <ng-content actions>
        <!-- Menu functionality can be re-implemented with PrimeNG Menu component when needed -->
      </ng-content>
    </app-page-header>

    @if (teamIds(); as teamIds) {
      <section class="games">
        <section class="recent-games">
          <h3 class="flex items-center gap-2 text-xl font-semibold text-surface-700">
            <i class="pi pi-history text-primary-500"></i>
            {{ 'all.game.recent.title' | translate }}
          </h3>
          <app-recent-games [for]="teamIds" [type]="'team'" />
        </section>
        <section class="upcoming-games">
          <h3 class="flex items-center gap-2 text-xl font-semibold text-surface-700">
            <i class="pi pi-calendar text-primary-500"></i>
            {{ 'all.game.upcoming.title' | translate }}
          </h3>
          <!-- @if (this.hasTeams()) { -->
          <app-upcoming-games [for]="teamIds" [type]="'team'" />
        </section>
      </section>
    }
  }
} @else {
  <p-progressbar mode="indeterminate" [style]="{'height': '6px'}" />
}

@if (error()) {
  <div class="error flex items-center gap-2 p-4 text-red-600">
    <i class="pi pi-exclamation-triangle"></i>
    {{ error() }}
  </div>
}
