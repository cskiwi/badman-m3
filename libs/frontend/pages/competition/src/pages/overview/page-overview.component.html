@if (!loading()) {
  <app-page-header>
    <ng-content title>Competitions</ng-content>
  </app-page-header>
  <section class="competitions">
    <mat-form-field>
      <mat-label>{{ 'all.competitions.search' | translate }}</mat-label>
      <input matInput [formControl]="this.query" />
    </mat-form-field>

    <mat-list>
      @for (competition of competitions(); track competition.id) {
        <mat-list-item [routerLink]="competition.slug">
          <h3 matListItemTitle>{{ competition.name }}</h3>
        </mat-list-item>
      }
    </mat-list>
  </section>
} @else {
  <mat-progress-bar mode="indeterminate" />
}

@if (error()) {
  <div class="error">
    <mat-icon>error</mat-icon>
    {{ error() }}
  </div>
}
