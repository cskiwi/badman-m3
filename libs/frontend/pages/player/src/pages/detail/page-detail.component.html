@if (!loading()) {
  @if (this.player(); as player) {
    <app-page-header>
      <ng-content title>{{ player.fullName }}</ng-content>
      <ng-content subTitle>
        <div class="info">
          <div class="sub-text">
            <ng-container
              ><a [routerLink]="['/', 'club', this.club()?.slug]" class="text-blue-600 hover:text-blue-800 underline">{{ this.club()?.name }}</a></ng-container
            >
            @if (this.club()?.name && player.memberId) {
              -
            }
            {{ player.memberId }}
          </div>
          @if (player.id) {
            <div class="levels flex space-x-4 mt-2">
              <app-show-level [routerLink]="['ranking', 'single']" [playerId]="player.id" type="single" />
              <app-show-level [routerLink]="['ranking', 'double']" [playerId]="player.id" type="double" />
              <app-show-level [routerLink]="['ranking', 'mix']" [playerId]="player.id" type="mix" />
            </div>
          }
        </div>
      </ng-content>
      <ng-content actions> </ng-content>
    </app-page-header>
    <section class="quick-links p-4">
      <p-button 
        label="Partners" 
        [routerLink]="['partners']"
        styleClass="mb-4"
      />
    </section>
    <section class="games grid grid-cols-1 lg:grid-cols-2 gap-6 p-4">
      <section class="recent-games">
        <p-card>
          <h3 class="flex items-center text-xl font-semibold mb-4 text-surface-700">
            <i class="pi pi-history text-primary-500 mr-2"></i>
            {{ 'all.game.recent.title' | translate }}
          </h3>
          <app-recent-games [for]="player.id" [type]="'player'" />
        </p-card>
      </section>
      <section class="upcoming-games">
        <p-card>
          <h3 class="flex items-center text-xl font-semibold mb-4 text-surface-700">
            <i class="pi pi-calendar text-primary-500 mr-2"></i>
            {{ 'all.game.upcoming.title' | translate }}
          </h3>
          <app-upcoming-games [for]="player.id" [type]="'player'" />
        </p-card>
      </section>
    </section>
  }
} @else {
  <div class="p-4">
    <p-progressBar mode="indeterminate" />
  </div>
}

@if (error()) {
  <div class="flex items-center justify-center p-8 text-red-600">
    <i class="pi pi-exclamation-triangle mr-2"></i>
    <span>{{ error() }}</span>
  </div>
}
