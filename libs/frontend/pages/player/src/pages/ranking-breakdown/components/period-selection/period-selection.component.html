<div class="flex items-center gap-4">
  <div class="flex flex-col gap-1">
    <span class="text-xs text-muted-color">{{ 'all.ranking.breakdown.period.title' | translate }}</span>
    <span class="font-medium text-color whitespace-nowrap">
      @if (start()) {
        {{ start() | dayjsFormat: 'DD MMM YYYY' }}
      }
      -
      @if (end()) {
        {{ end() | dayjsFormat: 'DD MMM YYYY' }}
      }
    </span>
  </div>

  <div class="flex items-center gap-1">
    <p-button
      icon="pi pi-calendar"
      [text]="true"
      severity="secondary"
      (onClick)="calendarMenu.toggle($event)"
    />

    <p-menu #calendarMenu [popup]="true" appendTo="body">
      <ng-template pTemplate="start">
        <div class="p-2" (click)="$event.stopPropagation()">
          <p-datepicker
            [inline]="true"
            (onSelect)="onDateSelect($event)"
          />
          <div class="flex gap-4 p-2 border-t border-surface mt-2">
            <div class="flex items-center gap-2 text-xs">
              <span class="w-3 h-3 rounded-full bg-blue-500"></span>
              <span class="text-muted-color">{{ 'all.ranking.breakdown.update.point' | translate }}</span>
            </div>
            <div class="flex items-center gap-2 text-xs">
              <span class="w-3 h-3 rounded-full bg-green-500"></span>
              <span class="text-muted-color">{{ 'all.ranking.breakdown.update.ranking' | translate }}</span>
            </div>
          </div>
        </div>
      </ng-template>
    </p-menu>

    <p-button
      icon="pi pi-ellipsis-v"
      [text]="true"
      severity="secondary"
      (onClick)="quickMenu.toggle($event)"
    />

    <p-menu #quickMenu [popup]="true" [model]="[
      { label: 'all.ranking.breakdown.period.last-point-update' | translate, command: lastPointUpdate.bind(this) },
      { label: 'all.ranking.breakdown.period.last-ranking-update' | translate, command: lastRankingUpdate.bind(this) },
      { separator: true },
      { label: 'all.ranking.breakdown.period.next-point-update' | translate, command: nextPointUpdate.bind(this) },
      { label: 'all.ranking.breakdown.period.next-ranking-update' | translate, command: nextRankingUpdate.bind(this) }
    ]" appendTo="body" />
  </div>
</div>
